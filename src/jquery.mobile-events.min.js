"use strict";!function(e){function t(){var e=c();e!==p&&(p=e,u.trigger("orientationchange"))}function a(t,a,n,o){var i=n.type;n.type=a,e.event.dispatch.call(t,n,o),n.type=i}e.attrFn=e.attrFn||{};var n=navigator.userAgent.toLowerCase(),o=n.indexOf("chrome")>-1&&(n.indexOf("windows")>-1||n.indexOf("macintosh")>-1||n.indexOf("linux")>-1)&&n.indexOf("mobile")<0&&n.indexOf("android")<0,r={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:window.navigator.msPointerEnabled?!1:"ontouchstart"in window&&!o,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:window.navigator.msPointerEnabled?"MSPointerDown":"ontouchstart"in window&&!o?"touchstart":"mousedown",endevent:window.navigator.msPointerEnabled?"MSPointerUp":"ontouchstart"in window&&!o?"touchend":"mouseup",moveevent:window.navigator.msPointerEnabled?"MSPointerMove":"ontouchstart"in window&&!o?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!o?"tap":"click",scrollevent:"ontouchstart"in window&&!o?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return r.touch_capable},e.getStartEvent=function(){return r.startevent},e.getEndEvent=function(){return r.endevent},e.getMoveEvent=function(){return r.moveevent},e.getTapEvent=function(){return r.tapevent},e.getScrollEvent=function(){return r.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,a){e.fn[a]=function(e){return e?this.on(a,e):this.trigger(a)},e.attrFn[a]=!0}),e.event.special.tapstart={setup:function(){var t=this,n=e(t);n.on(r.startevent,function o(e){if(n.data("callee",o),e.which&&1!==e.which)return!1;var s=e.originalEvent,c={position:{x:r.touch_capable?s.touches[0].screenX:e.screenX,y:r.touch_capable?s.touches[0].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?s.changedTouches[i].pageX-n.position().left:e.pageX-n.position().left),y:Math.round(r.touch_capable?s.changedTouches[i].pageY-n.position().top:e.pageY-n.position().top)},time:Date.now(),target:e.target};return a(t,"tapstart",e,c),!0})},remove:function(){e(this).off(r.startevent,e(this).data.callee)}},e.event.special.tapmove={setup:function(){var t=this,n=e(t);n.on(r.moveevent,function o(e){n.data("callee",o);var s=e.originalEvent,c={position:{x:r.touch_capable?s.touches[0].screenX:e.screenX,y:r.touch_capable?s.touches[0].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?s.changedTouches[i].pageX-n.position().left:e.pageX-n.position().left),y:Math.round(r.touch_capable?s.changedTouches[i].pageY-n.position().top:e.pageY-n.position().top)},time:Date.now(),target:e.target};return a(t,"tapmove",e,c),!0})},remove:function(){e(this).off(r.moveevent,e(this).data.callee)}},e.event.special.tapend={setup:function(){var t=this,n=e(t);n.on(r.endevent,function o(e){n.data("callee",o);var s=e.originalEvent,c={position:{x:r.touch_capable?s.changedTouches[0].screenX:e.screenX,y:r.touch_capable?s.changedTouches[0].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?s.changedTouches[i].pageX-n.position().left:e.pageX-n.position().left),y:Math.round(r.touch_capable?s.changedTouches[i].pageY-n.position().top:e.pageY-n.position().top)},time:Date.now(),target:e.target};return a(t,"tapend",e,c),!0})},remove:function(){e(this).off(r.endevent,e(this).data.callee)}},e.event.special.taphold={setup:function(){var t,n=this,o=e(n),s={x:0,y:0},c=0,p=0;o.on(r.startevent,function h(e){if(e.which&&1!==e.which)return!1;o.data("tapheld",!1),t=e.target;var l=e.originalEvent,u=Date.now(),g={x:r.touch_capable?l.touches[0].screenX:e.screenX,y:r.touch_capable?l.touches[0].screenY:e.screenY},d={x:r.touch_capable?l.touches[0].pageX-l.touches[0].target.offsetLeft:e.offsetX,y:r.touch_capable?l.touches[0].pageY-l.touches[0].target.offsetTop:e.offsetY};return s.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,c=s.x,p=s.y,r.hold_timer=window.setTimeout(function(){var f=s.x-c,v=s.y-p;if(e.target==t&&(s.x==c&&s.y==p||f>=-r.tap_pixel_range&&f<=r.tap_pixel_range&&v>=-r.tap_pixel_range&&v<=r.tap_pixel_range)){o.data("tapheld",!0);var w=Date.now(),_={x:r.touch_capable?l.touches[0].screenX:e.screenX,y:r.touch_capable?l.touches[0].screenY:e.screenY},T={x:Math.round(r.touch_capable?l.changedTouches[i].pageX-o.position().left:e.pageX-o.position().left),y:Math.round(r.touch_capable?l.changedTouches[i].pageY-o.position().top:e.pageY-o.position().top)},x=w-u,y={startTime:u,endTime:w,startPosition:g,startOffset:d,endPosition:_,endOffset:T,duration:x,target:e.target};o.data("callee1",h),a(n,"taphold",e,y)}},r.taphold_threshold),!0}).on(r.endevent,function l(){o.data("callee2",l),o.data("tapheld",!1),window.clearTimeout(r.hold_timer)}).on(r.moveevent,function u(e){o.data("callee3",u),c=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,p=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2).off(r.moveevent,e(this).data.callee3)}},e.event.special.doubletap={setup:function(){var t,n,o,s,c=this,p=e(c),h=null,l=!1;p.on(r.startevent,function u(e){return e.which&&1!==e.which?!1:(p.data("doubletapped",!1),t=e.target,p.data("callee1",u),o=e.originalEvent,h||(h={position:{x:r.touch_capable?o.touches[0].screenX:e.screenX,y:r.touch_capable?o.touches[0].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?o.changedTouches[i].pageX-p.position().left:e.pageX-p.position().left),y:Math.round(r.touch_capable?o.changedTouches[i].pageY-p.position().top:e.pageY-p.position().top)},time:Date.now(),target:e.target}),!0)}).on(r.endevent,function g(e){var u=Date.now(),d=p.data("lastTouch")||u+1,f=u-d;if(window.clearTimeout(n),p.data("callee2",g),f<r.doubletap_int&&e.target==t&&f>100){p.data("doubletapped",!0),window.clearTimeout(r.tap_timer);var v={position:{x:r.touch_capable?e.originalEvent.changedTouches[0].screenX:e.screenX,y:r.touch_capable?e.originalEvent.changedTouches[0].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?o.changedTouches[i].pageX-p.position().left:e.pageX-p.position().left),y:Math.round(r.touch_capable?o.changedTouches[i].pageY-p.position().top:e.pageY-p.position().top)},time:Date.now(),target:e.target},w={firstTap:h,secondTap:v,interval:v.time-h.time};l||(a(c,"doubletap",e,w),h=null),l=!0,s=window.setTimeout(function(){l=!1},r.doubletap_int)}else p.data("lastTouch",u),n=window.setTimeout(function(){h=null,window.clearTimeout(n)},r.doubletap_int,[e]);p.data("lastTouch",u)})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2)}},e.event.special.singletap={setup:function(){var t=this,n=e(t),o=null,s=null,c={x:0,y:0};n.on(r.startevent,function p(e){return e.which&&1!==e.which?!1:(s=Date.now(),o=e.target,n.data("callee1",p),c.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,c.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(r.endevent,function h(e){if(n.data("callee2",h),e.target==o){var p=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,l=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY;r.tap_timer=window.setTimeout(function(){if(!n.data("doubletapped")&&!n.data("tapheld")&&c.x==p&&c.y==l){var o=e.originalEvent,h={position:{x:r.touch_capable?o.changedTouches[0].screenX:e.screenX,y:r.touch_capable?o.changedTouches[0].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?o.changedTouches[i].pageX-n.position().left:e.pageX-n.position().left),y:Math.round(r.touch_capable?o.changedTouches[i].pageY-n.position().top:e.pageY-n.position().top)},time:Date.now(),target:e.target};h.time-s<r.taphold_threshold&&a(t,"singletap",e,h)}},r.doubletap_int)}})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2)}},e.event.special.tap={setup:function(){var t,n,o=this,i=e(o),s=!1,c=null,p={x:0,y:0};i.on(r.startevent,function h(e){return i.data("callee1",h),e.which&&1!==e.which?!1:(s=!0,p.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,p.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,t=Date.now(),c=e.target,n=e.originalEvent.targetTouches?e.originalEvent.targetTouches:[e],!0)}).on(r.endevent,function l(e){i.data("callee2",l);var h,u=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,g=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,d=p.x-u,f=p.y-g;if(c==e.target&&s&&Date.now()-t<r.taphold_threshold&&(p.x==u&&p.y==g||d>=-r.tap_pixel_range&&d<=r.tap_pixel_range&&f>=-r.tap_pixel_range&&f<=r.tap_pixel_range)){for(var v=e.originalEvent,w=[],_=0;_<n.length;_++){var T={position:{x:r.touch_capable?v.changedTouches[_].screenX:e.screenX,y:r.touch_capable?v.changedTouches[_].screenY:e.screenY},offset:{x:Math.round(r.touch_capable?v.changedTouches[_].pageX-i.position().left:e.pageX-i.position().left),y:Math.round(r.touch_capable?v.changedTouches[_].pageY-i.position().top:e.pageY-i.position().top)},time:Date.now(),target:e.target};w.push(T)}switch(n.length){case 1:h="tap";break;case 2:h="tap2";break;case 3:h="tap3";break;case 4:h="tap4"}a(o,h,e,w)}})},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.endevent,e(this).data.callee2)}},e.event.special.swipe={setup:function(){function t(a){c=e(a.currentTarget),c.data("callee1",t),l.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX,l.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY,u.x=l.x,u.y=l.y,p=!0;var n=a.originalEvent;o={position:{x:r.touch_capable?n.touches[0].screenX:a.screenX,y:r.touch_capable?n.touches[0].screenY:a.screenY},offset:{x:Math.round(r.touch_capable?n.changedTouches[i].pageX-c.position().left:a.pageX-c.position().left),y:Math.round(r.touch_capable?n.changedTouches[i].pageY-c.position().top:a.pageY-c.position().top)},time:Date.now(),target:a.target}}function a(t){c=e(t.currentTarget),c.data("callee2",a),u.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,u.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var n,s=c.parent().data("xthreshold")?c.parent().data("xthreshold"):c.data("xthreshold"),g=c.parent().data("ythreshold")?c.parent().data("ythreshold"):c.data("ythreshold"),d="undefined"!=typeof s&&s!==!1&&parseInt(s)?parseInt(s):r.swipe_h_threshold,f="undefined"!=typeof g&&g!==!1&&parseInt(g)?parseInt(g):r.swipe_v_threshold;if(l.y>u.y&&l.y-u.y>f&&(n="swipeup"),l.x<u.x&&u.x-l.x>d&&(n="swiperight"),l.y<u.y&&u.y-l.y>f&&(n="swipedown"),l.x>u.x&&l.x-u.x>d&&(n="swipeleft"),void 0!=n&&p){l.x=0,l.y=0,u.x=0,u.y=0,p=!1;var v=t.originalEvent,w={position:{x:r.touch_capable?v.touches[0].screenX:t.screenX,y:r.touch_capable?v.touches[0].screenY:t.screenY},offset:{x:Math.round(r.touch_capable?v.changedTouches[i].pageX-c.position().left:t.pageX-c.position().left),y:Math.round(r.touch_capable?v.changedTouches[i].pageY-c.position().top:t.pageY-c.position().top)},time:Date.now(),target:t.target},_=Math.abs(o.position.x-w.position.x),T=Math.abs(o.position.y-w.position.y),x={startEvnt:o,endEvnt:w,direction:n.replace("swipe",""),xAmount:_,yAmount:T,duration:w.time-o.time};h=!0,c.trigger("swipe",x).trigger(n,x)}}function n(t){c=e(t.currentTarget);var a="";if(c.data("callee3",n),h){var s=c.data("xthreshold"),l=c.data("ythreshold"),u="undefined"!=typeof s&&s!==!1&&parseInt(s)?parseInt(s):r.swipe_h_threshold,g="undefined"!=typeof l&&l!==!1&&parseInt(l)?parseInt(l):r.swipe_v_threshold,d=t.originalEvent,f={position:{x:r.touch_capable?d.changedTouches[0].screenX:t.screenX,y:r.touch_capable?d.changedTouches[0].screenY:t.screenY},offset:{x:Math.round(r.touch_capable?d.changedTouches[i].pageX-c.position().left:t.pageX-c.position().left),y:Math.round(r.touch_capable?d.changedTouches[i].pageY-c.position().top:t.pageY-c.position().top)},time:Date.now(),target:t.target};o.position.y>f.position.y&&o.position.y-f.position.y>g&&(a="swipeup"),o.position.x<f.position.x&&f.position.x-o.position.x>u&&(a="swiperight"),o.position.y<f.position.y&&f.position.y-o.position.y>g&&(a="swipedown"),o.position.x>f.position.x&&o.position.x-f.position.x>u&&(a="swipeleft");var v=Math.abs(o.position.x-f.position.x),w=Math.abs(o.position.y-f.position.y),_={startEvnt:o,endEvnt:f,direction:a.replace("swipe",""),xAmount:v,yAmount:w,duration:f.time-o.time};c.trigger("swipeend",_)}p=!1,h=!1}var o,s=this,c=e(s),p=!1,h=!1,l={x:0,y:0},u={x:0,y:0};c.on(r.startevent,t),c.on(r.moveevent,a),c.on(r.endevent,n)},remove:function(){e(this).off(r.startevent,e(this).data.callee1).off(r.moveevent,e(this).data.callee2).off(r.endevent,e(this).data.callee3)}},e.event.special.scrollstart={setup:function(){function t(e,t){n=t,a(i,n?"scrollstart":"scrollend",e)}var n,o,i=this,s=e(i);s.on(r.scrollevent,function c(e){s.data("callee",c),n||t(e,!0),clearTimeout(o),o=setTimeout(function(){t(e,!1)},50)})},remove:function(){e(this).off(r.scrollevent,e(this).data.callee)}};var s,c,p,h,l,u=e(window),g={0:!0,180:!0};if(r.orientation_support){var d=window.innerWidth||u.width(),f=window.innerHeight||u.height(),v=50;h=d>f&&d-f>v,l=g[window.orientation],(h&&l||!h&&!l)&&(g={"-90":!0,90:!0})}e.event.special.orientationchange=s={setup:function(){return r.orientation_support?!1:(p=c(),u.on("throttledresize",t),!0)},teardown:function(){return r.orientation_support?!1:(u.off("throttledresize",t),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=c(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=c=function(){var e=!0,t=document.documentElement;return e=r.orientation_support?g[window.orientation]:t&&t.clientWidth/t.clientHeight<1.1,e?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",y)},teardown:function(){e(this).off("resize",y)}};var w,_,T,x=250,y=function(){_=Date.now(),T=_-m,T>=x?(m=_,e(this).trigger("throttledresize")):(w&&window.clearTimeout(w),w=window.setTimeout(t,x-T))},m=0;e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,a){e.event.special[t]={setup:function(){e(this).on(a,e.noop)}}})}(jQuery);
